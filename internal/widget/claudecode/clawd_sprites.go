// Package claudecode provides a widget displaying Claude Code status with the Clawd mascot.
// This widget was designed by Claude itself as a creative expression of its digital presence.
package claudecode

import "sync"

// Clawd Sprite Definitions
// ========================
// Clawd is the adorable blob-like mascot of Claude Code.
// Based on the authentic design (decoded from Unicode block characters):
//
//    ▐▛███▜▌
//   ▝▜█████▛▘
//     ▘▘ ▝▝
//
// Pixel representation (17x5):
//   ...#############....
//   ...##.######.##....
//   .#################..
//   ...#############....
//   ....#.#....#.#.....
//
// A wide horizontal blob with two little feet!
// Clawd has "eyes" (the rounded corner gaps) but no facial expressions.

// ClawdSprite represents a single frame of Clawd animation
type ClawdSprite struct {
	Width  int
	Height int
	Data   [][]uint8
}

// ============================================================================
// LARGE CLAWD (34x20) - 2x scale with aspect ratio correction
// Terminal characters are ~2:1 (height:width), so we double vertical resolution
// ============================================================================

// ClawdLarge - Standard Clawd at 2x scale
var ClawdLarge = ClawdSprite{
	Width: 34, Height: 20,
	Data: [][]uint8{
		//0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 0  top row
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 1
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 2
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 3
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 4  rounded corners (eyes)
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 5
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 6
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 7
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 8  widest row
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 9
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 10
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 11
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 12 bottom row
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 13
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 14
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 15
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 16 feet
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 17
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 18
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 19
	},
}

// ClawdLargeWave - Clawd doing a little wave/wobble (intro animation frame)
var ClawdLargeWave = ClawdSprite{
	Width: 34, Height: 20,
	Data: [][]uint8{
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 0  shifted right
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 1
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 2
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 3
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 4  rounded corners
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 5
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 6
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 7
		{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 8  widest row
		{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 9
		{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 10
		{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 11
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 12 bottom row
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 13
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 14
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 15
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 16 feet shifted
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 17
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 18
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 19
	},
}

// ClawdLargeBounce - Clawd bouncing up (intro animation frame)
var ClawdLargeBounce = ClawdSprite{
	Width: 34, Height: 20,
	Data: [][]uint8{
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 0
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 1
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 2
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 3
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 4
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 5
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 6
		{0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}, // 7
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 8  widest row
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 9
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 10
		{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0}, // 11
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // 12 gap - in the air!
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // 13
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // 14
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, // 15
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 16 feet dangling
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 17
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 18
		{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0}, // 19
	},
}

// ============================================================================
// MEDIUM CLAWD (17x10) - Original 1:1 scale with aspect ratio correction
// Terminal characters are ~2:1 (height:width), so we double vertical resolution
// ============================================================================

// ClawdMedium - Standard Clawd (exact authentic design)
var ClawdMedium = ClawdSprite{
	Width: 17, Height: 10,
	Data: [][]uint8{
		//0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6
		{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0}, // 0  top row
		{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0}, // 1
		{0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0}, // 2  rounded corners / "eyes" (symmetric: gaps at 5,11)
		{0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0}, // 3
		{0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0}, // 4  widest
		{0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0}, // 5
		{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0}, // 6  bottom
		{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0}, // 7
		{0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0}, // 8  two feet (symmetric: 4,6 and 10,12)
		{0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0}, // 9
	},
}

// ============================================================================
// SMALL CLAWD (9x6) - Half scale with aspect ratio correction
// ============================================================================

// ClawdSmall - Tiny Clawd
var ClawdSmall = ClawdSprite{
	Width: 9, Height: 6,
	Data: [][]uint8{
		{0, 0, 1, 1, 1, 1, 1, 0, 0}, // 0  body
		{0, 0, 1, 1, 1, 1, 1, 0, 0}, // 1
		{0, 1, 1, 1, 1, 1, 1, 1, 0}, // 2  widest
		{0, 1, 1, 1, 1, 1, 1, 1, 0}, // 3
		{0, 0, 1, 0, 0, 0, 1, 0, 0}, // 4  two feet
		{0, 0, 1, 0, 0, 0, 1, 0, 0}, // 5
	},
}

// ============================================================================
// ANIMATION EFFECTS
// ============================================================================

// ThinkingDots - Animated dots that appear while thinking
var ThinkingDots = []ClawdSprite{
	{Width: 5, Height: 2, Data: [][]uint8{{1, 0, 0, 0, 0}, {0, 0, 0, 0, 0}}},
	{Width: 5, Height: 2, Data: [][]uint8{{1, 0, 1, 0, 0}, {0, 0, 0, 0, 0}}},
	{Width: 5, Height: 2, Data: [][]uint8{{1, 0, 1, 0, 1}, {0, 0, 0, 0, 0}}},
	{Width: 5, Height: 2, Data: [][]uint8{{0, 0, 1, 0, 1}, {0, 0, 0, 0, 0}}},
	{Width: 5, Height: 2, Data: [][]uint8{{0, 0, 0, 0, 1}, {0, 0, 0, 0, 0}}},
	{Width: 5, Height: 2, Data: [][]uint8{{0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}}},
}

// SleepingZs - Z's floating up while sleeping
var SleepingZs = []ClawdSprite{
	{Width: 4, Height: 4, Data: [][]uint8{
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
	}},
	{Width: 4, Height: 4, Data: [][]uint8{
		{0, 0, 0, 0},
		{0, 0, 0, 0},
		{1, 1, 0, 0},
		{0, 1, 0, 0},
	}},
	{Width: 4, Height: 4, Data: [][]uint8{
		{0, 0, 0, 0},
		{1, 1, 0, 0},
		{0, 1, 0, 0},
		{1, 1, 0, 0},
	}},
	{Width: 4, Height: 4, Data: [][]uint8{
		{1, 1, 1, 0},
		{0, 0, 1, 0},
		{0, 1, 0, 0},
		{1, 1, 1, 0},
	}},
}

// Sparkles - For celebration animation
var Sparkles = []ClawdSprite{
	{Width: 3, Height: 3, Data: [][]uint8{{0, 1, 0}, {1, 1, 1}, {0, 1, 0}}},
	{Width: 3, Height: 3, Data: [][]uint8{{1, 0, 1}, {0, 1, 0}, {1, 0, 1}}},
	{Width: 3, Height: 3, Data: [][]uint8{{0, 1, 0}, {1, 0, 1}, {0, 1, 0}}},
}

// ============================================================================
// TOOL ICONS (shown when running specific tools)
// ============================================================================

// ToolIconBash - Terminal icon
var ToolIconBash = ClawdSprite{
	Width: 7, Height: 5,
	Data: [][]uint8{
		{1, 1, 1, 1, 1, 1, 1},
		{1, 0, 0, 0, 0, 0, 1},
		{1, 0, 1, 1, 0, 0, 1},
		{1, 0, 0, 0, 0, 0, 1},
		{1, 1, 1, 1, 1, 1, 1},
	},
}

// ToolIconRead - Document/file icon
var ToolIconRead = ClawdSprite{
	Width: 5, Height: 6,
	Data: [][]uint8{
		{1, 1, 1, 1, 0},
		{1, 0, 0, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 1, 0, 1},
		{1, 0, 1, 0, 1},
		{1, 1, 1, 1, 1},
	},
}

// ToolIconEdit - Pencil icon
var ToolIconEdit = ClawdSprite{
	Width: 5, Height: 6,
	Data: [][]uint8{
		{0, 0, 0, 1, 1},
		{0, 0, 1, 1, 0},
		{0, 1, 1, 0, 0},
		{1, 1, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
	},
}

// ToolIconSearch - Magnifying glass icon
var ToolIconSearch = ClawdSprite{
	Width: 6, Height: 6,
	Data: [][]uint8{
		{0, 1, 1, 1, 0, 0},
		{1, 0, 0, 0, 1, 0},
		{1, 0, 0, 0, 1, 0},
		{0, 1, 1, 1, 0, 0},
		{0, 0, 0, 1, 1, 0},
		{0, 0, 0, 0, 1, 1},
	},
}

// ToolIconWeb - Globe icon
var ToolIconWeb = ClawdSprite{
	Width: 7, Height: 7,
	Data: [][]uint8{
		{0, 0, 1, 1, 1, 0, 0},
		{0, 1, 0, 1, 0, 1, 0},
		{1, 1, 1, 1, 1, 1, 1},
		{1, 0, 0, 1, 0, 0, 1},
		{1, 1, 1, 1, 1, 1, 1},
		{0, 1, 0, 1, 0, 1, 0},
		{0, 0, 1, 1, 1, 0, 0},
	},
}

// ToolIconTask - Subtask/agent icon (nested boxes)
var ToolIconTask = ClawdSprite{
	Width: 6, Height: 6,
	Data: [][]uint8{
		{1, 1, 1, 1, 1, 0},
		{1, 0, 0, 0, 1, 0},
		{1, 0, 1, 1, 1, 1},
		{1, 0, 1, 0, 0, 1},
		{1, 1, 1, 0, 0, 1},
		{0, 0, 1, 1, 1, 1},
	},
}

// GetToolIcon returns the appropriate icon for a tool name
func GetToolIcon(toolName string) *ClawdSprite {
	switch toolName {
	case "Bash":
		return &ToolIconBash
	case "Read":
		return &ToolIconRead
	case "Edit", "Write":
		return &ToolIconEdit
	case "Glob", "Grep":
		return &ToolIconSearch
	case "WebFetch", "WebSearch":
		return &ToolIconWeb
	case "Task":
		return &ToolIconTask
	default:
		return nil
	}
}

// ============================================================================
// SPRITE UTILITIES
// ============================================================================

// mirrorSprite creates a horizontally mirrored copy of a sprite
func mirrorSprite(s *ClawdSprite) ClawdSprite {
	mirrored := ClawdSprite{
		Width:  s.Width,
		Height: s.Height,
		Data:   make([][]uint8, len(s.Data)),
	}
	for i, row := range s.Data {
		// Create new row with reversed elements
		newRow := make([]uint8, len(row))
		for j, k := 0, len(row)-1; j <= k; j, k = j+1, k-1 {
			newRow[j], newRow[k] = row[k], row[j]
		}
		mirrored.Data[i] = newRow
	}
	return mirrored
}

// Cached mirrored sprites (lazy initialization)
var (
	clawdLargeWaveMirror     ClawdSprite
	clawdLargeWaveMirrorOnce sync.Once
)

// GetClawdLargeWaveMirror returns the horizontally mirrored ClawdLargeWave sprite
// The sprite is created once and cached for subsequent calls
func GetClawdLargeWaveMirror() *ClawdSprite {
	clawdLargeWaveMirrorOnce.Do(func() {
		clawdLargeWaveMirror = mirrorSprite(&ClawdLargeWave)
	})
	return &clawdLargeWaveMirror
}
